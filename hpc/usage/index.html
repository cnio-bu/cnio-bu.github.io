
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cnio-bu.github.io/hpc/usage/">
      
      
        <link rel="prev" href="../../dev/">
      
      
        <link rel="next" href="../admin/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Usage - CNIO Bioinformatics Unit documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/main.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-cnio-hpc-cluster" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CNIO Bioinformatics Unit documentation" class="md-header__button md-logo" aria-label="CNIO Bioinformatics Unit documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CNIO Bioinformatics Unit documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cnio-bu/cnio-bu.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CNIO Bioinformatics Unit documentation" class="md-nav__button md-logo" aria-label="CNIO Bioinformatics Unit documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    CNIO Bioinformatics Unit documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cnio-bu/cnio-bu.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    BU organisation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            BU organisation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../org/chat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../org/calendar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calendar
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development guidelines
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HPC resources
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            HPC resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Usage
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cluster-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cluster resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Compute nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paragraph-for-adding-to-grant-applications-etc" class="md-nav__link">
    <span class="md-ellipsis">
      Paragraph for adding to grant applications, etc.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cluster-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cluster usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-to-hpc" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction to HPC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requesting-access" class="md-nav__link">
    <span class="md-ellipsis">
      Requesting access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mailing-list" class="md-nav__link">
    <span class="md-ellipsis">
      Mailing list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage_1" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#home-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Home directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scratch-space" class="md-nav__link">
    <span class="md-ellipsis">
      Scratch space
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scratch space">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-space" class="md-nav__link">
    <span class="md-ellipsis">
      User space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-space" class="md-nav__link">
    <span class="md-ellipsis">
      Project space
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-your-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      Checking your quotas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-data-tofrom-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Copying data to/from the cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submitting-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Submitting jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Submitting jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#job-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Job resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Job resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread-management" class="md-nav__link">
    <span class="md-ellipsis">
      Thread management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Time limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources-and-their-effect-on-job-priority" class="md-nav__link">
    <span class="md-ellipsis">
      Resources and their effect on job priority
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snakemake-executor-for-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      Snakemake executor for Slurm
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Snakemake executor for Slurm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-information-for-jobs-submitted-via-snakemake" class="md-nav__link">
    <span class="md-ellipsis">
      Getting information for jobs submitted via Snakemake
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpus" class="md-nav__link">
    <span class="md-ellipsis">
      GPUs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GPUs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-software-with-gpu-support" class="md-nav__link">
    <span class="md-ellipsis">
      Installing software with GPU support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-software" class="md-nav__link">
    <span class="md-ellipsis">
      Installing software
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Administration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cluster-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cluster resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Compute nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paragraph-for-adding-to-grant-applications-etc" class="md-nav__link">
    <span class="md-ellipsis">
      Paragraph for adding to grant applications, etc.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cluster-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cluster usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introduction-to-hpc" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction to HPC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requesting-access" class="md-nav__link">
    <span class="md-ellipsis">
      Requesting access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mailing-list" class="md-nav__link">
    <span class="md-ellipsis">
      Mailing list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage_1" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#home-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Home directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scratch-space" class="md-nav__link">
    <span class="md-ellipsis">
      Scratch space
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scratch space">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-space" class="md-nav__link">
    <span class="md-ellipsis">
      User space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-space" class="md-nav__link">
    <span class="md-ellipsis">
      Project space
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-your-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      Checking your quotas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copying-data-tofrom-the-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Copying data to/from the cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submitting-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      Submitting jobs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Submitting jobs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#job-resources" class="md-nav__link">
    <span class="md-ellipsis">
      Job resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Job resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread-management" class="md-nav__link">
    <span class="md-ellipsis">
      Thread management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Time limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources-and-their-effect-on-job-priority" class="md-nav__link">
    <span class="md-ellipsis">
      Resources and their effect on job priority
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snakemake-executor-for-slurm" class="md-nav__link">
    <span class="md-ellipsis">
      Snakemake executor for Slurm
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Snakemake executor for Slurm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-information-for-jobs-submitted-via-snakemake" class="md-nav__link">
    <span class="md-ellipsis">
      Getting information for jobs submitted via Snakemake
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpus" class="md-nav__link">
    <span class="md-ellipsis">
      GPUs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GPUs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-software-with-gpu-support" class="md-nav__link">
    <span class="md-ellipsis">
      Installing software with GPU support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-software" class="md-nav__link">
    <span class="md-ellipsis">
      Installing software
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="the-cnio-hpc-cluster">The CNIO HPC cluster</h1>
<p>These are some guidelines to using our HPC cluster and the Slurm workflow system.</p>
<h2 id="cluster-resources">Cluster resources</h2>
<h3 id="compute-nodes">Compute nodes</h3>
<p>The cluster currently features 11 compute nodes with the following configurations:</p>
<table>
<thead>
<tr>
<th>Count</th>
<th>Node names</th>
<th>CPU cores</th>
<th>RAM</th>
<th>GPUs</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>bc00[2-7]</td>
<td>52</td>
<td>512Gb</td>
<td>-</td>
</tr>
<tr>
<td>3</td>
<td>bc00[8-10]</td>
<td>128</td>
<td>1Tb</td>
<td>-</td>
</tr>
<tr>
<td>1</td>
<td>hm001</td>
<td>224</td>
<td>2Tb</td>
<td>-</td>
</tr>
<tr>
<td>1</td>
<td>gp001</td>
<td>112</td>
<td>768Gb</td>
<td>3 x Nvidia A100 80Gb</td>
</tr>
</tbody>
</table>
<p><br /></p>
<h3 id="storage">Storage</h3>
<p>The cluster features 54Tb of standard storage (where user's home directories are mounted)
and 512Tb of high performance storage (for compute jobs input and output).</p>
<h3 id="paragraph-for-adding-to-grant-applications-etc">Paragraph for adding to grant applications, etc.</h3>
<blockquote>
<p>The CNIO HPC cluster currently consists of: two login nodes working in active/passive mode (2x 40 core/392Gb RAM); a total of 728 compute cores distributed in 9 "standard" compute nodes (6x 52 core/512Gb RAM and 3x 64core/768Gb RAM) and a high-memory node (1x 224 core/2Tb RAM); a dedicated GPU node featuring 3 x Nvidia A100 80Gb GPUs. Local storage is composed of 48 4TB disks in a dual-channel enclosure organized into a RAID-10 unit with an effective available storage of 54TB which host the home directories, and a high-performance lustre storage system with 512 TB of effective available storage for computation. The cluster runs a Slurm queuing system with fairshare priority management.</p>
</blockquote>
<h2 id="cluster-usage">Cluster usage</h2>
<h3 id="introduction-to-hpc">Introduction to HPC</h3>
<p><a href="https://carpentries-incubator.github.io/hpc-intro/">See this tutorial</a> for an introduction to HPC concepts and usage
(<strong>highly</strong> recommended if you have little or no experience in using HPC environments).</p>
<h3 id="requesting-access">Requesting access</h3>
<p>Please fill out the <a href="https://cnio-hpc.limequery.com/757581">access request form</a> in order to 
request access to the cluster.</p>
<h3 id="accessing-the-cluster">Accessing the cluster</h3>
<p>The cluster's hostname is <code>cluster1.cnio.es</code> (<code>cluster1</code> for short), and can be accessed via SSH.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you'd like to SSH into the cluster through the CNIO VPN you will need to ask IT for VPN access.</p>
</div>
<h3 id="mailing-list">Mailing list</h3>
<p>Important notifications about the cluster are sent to the CNIO HPC mailing
list. Make sure to <a href="https://lists.cnio.es/wws/subscribe/hpc">subscribe using this link</a>
to stay up to date. The list has very low traffic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do subscribe to the list!</p>
</div>
<h3 id="storage_1">Storage</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There are two types of storage in the cluster: your home directory and scratch
space.</p>
<p>Your home directory is well suited for storing software (e.g. installing conda), configuration files, etc.
It is however <strong>not</strong> quick enough to store the input or output files of your analyses.
Using your home for this will likely hang your jobs and corrupt your files. You should use the
<em>scratch</em> space instead.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Scratch space is to be considered "volatile": you should copy your
input files, execute, copy your output files, and delete everything.</p>
<p>Home directories are not volatile, but data safety is not guaranteed in
the long term (so keep backups).</p>
</div>
<h4 id="home-directories">Home directories</h4>
<p>You have an allocation of 300Gb in your home directory, located in
<code>/home/&lt;yourusername&gt;/</code>.</p>
<h4 id="scratch-space">Scratch space</h4>
<h5 id="user-space">User space</h5>
<p>You have an allocation of 500Gb in your "scratch" directory, located at
<code>/storage/scratch01/users/&lt;yourusername&gt;/</code>.</p>
<p>This space is meant to be used for testing and ephemeral compute operations.</p>
<h5 id="project-space">Project space</h5>
<p>To request high-performance scratch space for a new project please fill the
<a href="https://cnio-hpc.limequery.com/826326">storage request form</a>.</p>
<h4 id="checking-your-quotas">Checking your quotas</h4>
<p>You can check your current quotas with the following commands:</p>
<pre><code class="language-bash">$ zfs get -r -o name,property,value userquota@$(whoami),userused@$(whoami) homepool2/home

$ quotr quota list --long # check your scratch quotas

</code></pre>
<h3 id="copying-data-tofrom-the-cluster">Copying data to/from the cluster</h3>
<p>The most efficient way of copying large amounts of data is by using <code>rsync</code>. <code>rsync</code> allows
you to resume a transfer in case something goes wrong.</p>
<p>To transfer a directory to the cluster using <code>rsync</code> you would do something like:</p>
<pre><code class="language-bash">rsync -avx --progress mydirectory/ cluster1:/storage/scratch01/myuser/mydirectory/
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pay attention to the trailing slashes, which completely change rsync's behaviour if missing.</p>
</div>
<p>For small transfers you could also use <code>scp</code> if you prefer:</p>
<pre><code class="language-bash">scp -r mydirectory/ cluster1:/storage/scratch01/myuser/
</code></pre>
<p>In both cases you can revert the order of the local and remote directory to copy from
the cluster to your local computer instead.</p>
<h3 id="submitting-jobs">Submitting jobs</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As a general rule, no heavy processes should be run directly on the login nodes.
Instead you should use the "sbatch" or "srun" commands to send them to the compute
nodes. See examples below.</p>
</div>
<p>The command structure to send a job to the queue is the following:</p>
<pre><code>sbatch -o &lt;logfile&gt; -e &lt;errfile&gt; -J &lt;jobname&gt; -c &lt;ncores&gt; --mem=&lt;total_memory&gt;G \
    -t&lt;time_minutes&gt; --wrap "&lt;command&gt;"
</code></pre>
<p>For example, to submit the command <code>bwa index mygenome.fasta</code> as a job: </p>
<pre><code>sbatch -o log.txt -e error.txt -J index_genome -c 1 --mem=4G -t120 \
    --wrap "bwa index mygenome.fasta"
</code></pre>
<h4 id="job-resources">Job resources</h4>
<p><code>-c</code>, <code>--mem</code>, and <code>-t</code> tell the system how many cores, RAM memory, and time your job will need.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unless otherwise specified, jobs will get a default of 1 core, 2Gb of RAM,
and a time limit of 30 minutes.</p>
</div>
<h5 id="thread-management">Thread management</h5>
<p>Many programs can spawn additional threads beyond what you explicitly request through the <code>-c</code> parameter.
This can lead to oversubscription of CPU resources and negatively impact both your job and others running
on the same node. For example, some Python libraries (like NumPy), R packages, or bioinformatics tools
might automatically use multiple threads based on the available CPU cores, regardless of your Slurm allocation.</p>
<p>To prevent this:</p>
<ul>
<li>Look for program-specific thread control options (e.g., <code>--threads</code>, <code>-t</code>, etc.)</li>
<li>If applicable, consider setting environment variables like <code>OMP_NUM_THREADS</code>, <code>OPENBLAS_NUM_THREADS</code>, <code>MKL_NUM_THREADS</code>, and <code>NUMEXPR_NUM_THREADS</code> to match your requested cores</li>
<li>When using workflow managers like Snakemake or Nextflow, ensure they properly propagate resource constraints to their child processes</li>
</ul>
<p>Please check <a href="https://lists.cnio.es/wws/arc/hpc/2024-12/msg00000.html">this message on the mailing list</a> for more details and an example.</p>
<h5 id="time-limits">Time limits</h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ideally, you should aim at your jobs having a duration of between 1 and 8 hours.
Shorter jobs may cause too much scheduling overhead, and longer jobs
will make it harder for the scheduler to optimally schedule jobs into the
queues.</p>
</div>
<p>The "short" queue has a limit of 2 hours per job and the highest priority
(i.e. jobs in this queue will run sooner compared to other queues).</p>
<p>The "main" queue has a limit of 24 hours per job and medium priority. </p>
<p>The "long" queue has a limit of 168 hours (7 days) per job and 4 concurrent
jobs, and the lowest priority.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can specify the partition (queue) you want to use with the <code>-p</code> argument
to <code>sbatch</code> or <code>srun</code>.</p>
</div>
<h5 id="resources-and-their-effect-on-job-priority">Resources and their effect on job priority</h5>
<p>The resources you request for a job will influence the chances that such job has to enter the queue, compared to others:
the more resources you request, the longer you may have to wait for those resources to be available.</p>
<p>In addition, the future priority of your jobs will also be influenced by the resources you <em>request</em> (not <em>use</em>, <em>request</em>, even if you don't use them in the end): the more you request, the less priority you'll have for future jobs.</p>
<p>If one of your jobs has lower priority than another one, but its running time would not
delay that higher priority one from entering the queue <strong>and</strong> there are enough resources for it,
your job could enter the queue first. That's why it's important to try and assign reasonably accurate
time limits (a.k.a. <em>walltimes</em>) to your jobs.</p>
<p>You can check how efficiently a job used its assigned resources with the <code>seff &lt;jobid&gt;</code> command (once the job is finished).</p>
<h4 id="snakemake-executor-for-slurm">Snakemake executor for Slurm</h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The previous way of having Snakemake send jobs to the nodes using a profile (<code>--profile $SMK_PROFILE_SLURM</code>)
is still functional but deprecated. You should ideally move to the native executor described below, and report
any issues to the list. </p>
</div>
<p>Snakemake features a <a href="https://snakemake.github.io/snakemake-plugin-catalog/plugins/executor/slurm.html">Slurm executor plugin</a>,
which will send jobs to Slurm instead of running them locally. After installing it, simply add the <code>--executor slurm</code> argument to
your <code>snakemake</code> command.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to indicate the resources required by each Snakemake rule you should use the <a href="https://snakemake.readthedocs.io/en/stable/snakefiles/rules.html#threads">threads</a>
and <a href="https://snakemake.readthedocs.io/en/stable/snakefiles/rules.html#resources">resources</a> options.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Snakemake command will remain active while your jobs run, so it's recommended that you launch it inside a detachable terminal emulator (e.g. <a href="https://www.nixtutor.com/linux/introduction-to-gnu-screen/">GNU Screen</a>)
so you can disconnect from the cluster and keep your jobs running.</p>
</div>
<h5 id="getting-information-for-jobs-submitted-via-snakemake">Getting information for jobs submitted via Snakemake</h5>
<p>Text extracted from the <a href="https://snakemake.github.io/snakemake-plugin-catalog/plugins/executor/slurm.html#inquiring-about-job-information-and-adjusting-the-rate-limiter">Snakemake Slurm executor docs</a></p>
<p>The executor plugin for SLURM uses unique job names to inquire about job status. It ensures inquiring about job status for the series of jobs of a workflow does not put too much strain on the batch system’s database. Human readable information is stored in the comment of a particular job. It is a combination of the rule name and wildcards. You can ask for it with the sacct or squeue commands, for example:</p>
<pre><code class="language-bash">sacct -o JobID,State,Comment%40
</code></pre>
<p>Note, the “%40” after Comment ensures a width of 40 characters. This setting may be changed at will. If the width is too small, SLURM will abbreviate the column with a + sign.</p>
<p>For running jobs, you can use the squeue command:</p>
<pre><code class="language-bash">squeue -u $USER -o %i,%P,%.10j,%.40k
</code></pre>
<p>Here, the .<number> settings for the ID and the comment ensure a sufficient width, too.</p>
<h4 id="interactive-sessions">Interactive sessions</h4>
<p>During development and testing you may want to be able to run commands interactively. You can request
an interactive session, which will run on a compute node, using the <code>srun</code> command with the <code>--pty</code> argument.</p>
<p>For example, to request a 2-hour session with 4Gb RAM and 2 CPUs, you would do:</p>
<p><code>srun --mem=4096 -c 2 -t 120 --pty /bin/bash</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Interactive sessions are limited to a maximum of 120 minutes.</p>
</div>
<h4 id="gpus">GPUs</h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>GPU usage is "experimental". Please expect changes in the setup
(which will be announced through the <a href="#mailing-list">mailing list</a>).</p>
</div>
<p>The cluster features three Nvidia A100 GPUs with 80Gb of VRAM each.</p>
<p>To run a command using GPUs you need to specify the <code>gpu</code> partition, and request
the number of GPUs you require using the
<code>--gres=gpu:A100:&lt;number_of_gpus&gt;</code> argument of <code>sbatch</code>. Here's an example
to run a python script with one GPU:</p>
<p><code>sbatch -p gpu --gres=gpu:A100:1 --wrap "python train_my_net.py"</code></p>
<h5 id="installing-software-with-gpu-support">Installing software with GPU support</h5>
<p>When installing software that requires GPU support (e.g., deep learning frameworks with CUDA),
it's important to perform the installation on a GPU node rather than on the head node.
Installing on the head node, which lacks GPUs, may result in CPU-only versions of libraries
being installed automatically, even when GPU-enabled versions are available.</p>
<p>There are two recommended approaches for installing GPU-enabled software:</p>
<p><strong>Option 1: Interactive session on GPU node</strong></p>
<p>Request an interactive session on the GPU node to install software or create conda environments:</p>
<pre><code>srun -p gpu --gres=gpu:A100:1 --mem=8192 -c 4 -t 120 --pty /bin/bash
</code></pre>
<p>Once connected to the GPU node, verify GPU access:</p>
<pre><code>nvidia-smi
</code></pre>
<p>Then proceed with your software installation (e.g., creating conda environments, installing packages with pip/conda).</p>
<p><strong>Option 2: Installation via batch job</strong></p>
<p>Alternatively, you can submit the installation commands as a batch job that runs on the GPU node:</p>
<pre><code>sbatch -p gpu --gres=gpu:A100:1 --mem=8192 -c 4 -t 60 --wrap &quot;conda create -n myenv python=3.10 &amp;&amp; conda activate myenv &amp;&amp; conda install &lt;packages&gt;&quot;
</code></pre>
<p><strong>Verifying GPU access</strong></p>
<p>After installation, verify that your software can access the GPU by running <code>nvidia-smi</code> or
using framework-specific commands to check CUDA availability. This ensures that the GPU-enabled
versions were correctly installed.</p>
<h3 id="installing-software">Installing software</h3>
<p>Software management is left up to the user, and we recommend doing it by installing
<a href="https://github.com/conda-forge/miniforge#unix-like-platforms-macos-linux--wsl">miniforge</a> and the <a href="https://bioconda.github.io/">bioconda channels</a>.</p>
<p>If you're completely unfamiliar with conda and bioconda, we recommend following
<a href="https://bioconda.github.io/tutorials/gcb2020.html">this tutorial</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember to use your home directory to install software (including conda),
as lustre performs poorly when reading small files often.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>